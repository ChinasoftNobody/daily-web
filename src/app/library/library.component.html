<div class="container">
    <div class="row mt-lg-2">
        <div class="col-sm">
            <input [(ngModel)]="asyncSelected"
                   [typeahead]="dataSource"
                   (typeaheadLoading)="changeTypeaheadLoading($event)"
                   (typeaheadOnSelect)="typeaheadOnSelect($event)"
                   [typeaheadOptionsLimit]="7"
                   (ngModelChange)="textChange()"
                   (keyup.enter)="enterKeyUp()"
                   typeaheadOptionField="name"
                   placeholder="Search"
                   name="keyword"
                   class="form-control form-control-lg ">
        </div>
        <div class="col-sm-1">
            <button class="form-control form-control-lg btn btn-outline-success" (click)="search()">Search</button>
        </div>
    </div>
</div>
<div class="container-fluid mt-lg-5">
    <div class="list-group">
        <div *ngFor="let book of books">
            <div class="list-group-item list-group-item-action">
                <div class="row" (click)="book.isCollapsed = !book.isCollapsed">
                    <img class="rounded" height="50px" src="http://202.112.150.126/index.php?client=libcode&isbn=978-7-302-48812-5/cover" [alt]="book.title">
                    <div class="ml-sm-2 col-auto align-self-center">
                        <div class="row">
                            <a class="text-success" routerLink=".">{{book.title}}</a>
                        </div>
                    </div>
                </div>
            </div>
            <div *ngIf="!book.isCollapsed" class="card card-block card-header">
                <div class="row">
                    <div class="col-6">
                        <p>Author:</p>
                        <p>{{book.personalNames}}</p>
                    </div>
                </div>
                <div class="row">
                    <div class="col-3">
                        <p>Call Number:</p>
                        <p>{{book.callNumber}}</p>
                    </div>
                    <div class="col-3">
                        <p>Publications:</p>
                        <p>{{book.publications}}</p>
                    </div>
                </div>
                <div class="row">
                    <div class="col-3">
                        <p>Age:</p>
                        <p>{{book.callNumber}}</p>
                    </div>
                    <div class="col-3">
                        <p>Record Type:</p>
                        <p>{{book.recordType}}</p>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>
<pagination [totalItems]="books.length" [itemsPerPage]="pageSize" [(ngModel)]="currentPage" (pageChanged)="pageChanged($event)"></pagination>
